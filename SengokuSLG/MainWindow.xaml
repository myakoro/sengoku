<Window x:Class="SengokuSLG.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:SengokuSLG.ViewModels"
        xmlns:v="clr-namespace:SengokuSLG.Views"
        mc:Ignorable="d"
        Title="戦国立身出世SLG v0.3" Height="720" Width="1280" MinWidth="1280"
        Background="{StaticResource BrushBgMain}"
        FontFamily="{StaticResource FontMain}">
    
    <Window.DataContext>
        <vm:MainViewModel/>
    </Window.DataContext>

    <Window.Resources>
        <DataTemplate DataType="{x:Type vm:MainScreenViewModel}">
            <v:MainView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:VillageViewModel}">
            <v:VillageView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:MonthlySummaryViewModel}">
            <v:MonthlySummaryView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:PublicDutySelectionViewModel}">
            <v:PublicDutySelectionView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:PrivateTaskSelectionViewModel}">
            <v:PrivateTaskSelectionView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:ActionResultViewModel}">
            <v:ActionResultDialog/>
        </DataTemplate>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="{StaticResource BrushHeader}" BorderBrush="{StaticResource BrushBorder}" BorderThickness="0,0,0,2" Padding="15">
            <Grid>
                <TextBlock Text="戦国立身出世SLG v0.4" FontSize="20" FontWeight="Bold" Foreground="{StaticResource BrushTextMain}" VerticalAlignment="Center"/>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Command="{Binding NavigateDailyCommand}" Content="日常" Style="{StaticResource StyleNavButton}" Margin="5,0"/>
                    <Button Command="{Binding NavigateVillageCommand}" Content="村情報" Style="{StaticResource StyleNavButton}" Margin="5,0"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Main Content -->
        <ContentControl Grid.Row="1" Content="{Binding CurrentView}"/>
        
        <!-- Dialog Overlay -->
        <ContentControl Grid.Row="0" Grid.RowSpan="2" Content="{Binding DialogViewModel}" Panel.ZIndex="100"/>
    </Grid>
</Window>


