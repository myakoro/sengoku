<UserControl x:Class="SengokuSLG.Views.BattlefieldUIView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="720" d:DesignWidth="1080">
    <Grid Background="{StaticResource BrushBgBase}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="{StaticResource BrushBgHeader}" BorderBrush="{StaticResource BrushBorder}" BorderThickness="0,0,0,2" Padding="20,15">
            <Grid>
                <TextBlock Text="⚔️ 戦場" FontSize="24" FontWeight="Bold" Foreground="{StaticResource BrushTextMain}" VerticalAlignment="Center"/>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="一時停止" Style="{StaticResource ButtonSecondary}" Width="100" Margin="0,0,10,0"/>
                    <Button Content="終了" Style="{StaticResource ButtonPrimary}" Width="100"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="20">
            <StackPanel>
                <!-- ミニマップと押し合い状況 -->
                <Grid Margin="0,0,0,12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- ミニマップ -->
                    <Border Grid.Column="0" Background="{StaticResource BrushBgCard}" BorderBrush="{StaticResource BrushBorder}" BorderThickness="2" CornerRadius="6" Padding="15" Margin="0,0,6,0">
                        <StackPanel>
                            <TextBlock Text="ミニマップ（簡易版）" FontSize="14" FontWeight="Bold" Foreground="{StaticResource BrushTextMain}" Margin="0,0,0,10"/>
                            <Border Background="#F5F5F5" BorderBrush="#999" BorderThickness="2" CornerRadius="6" Padding="20">
                                <StackPanel>
                                    <!-- 敵軍 -->
                                    <Border Background="#FFCDD2" CornerRadius="4" Padding="12" Margin="0,0,0,12">
                                        <StackPanel>
                                            <TextBlock Text="【敵軍】" FontSize="11" HorizontalAlignment="Center" Margin="0,0,0,6"/>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                                <Border Background="#E53935" CornerRadius="3" Padding="6,6,12,6" Margin="0,0,4,0">
                                                    <TextBlock Text="大隊A" FontSize="11" Foreground="White"/>
                                                </Border>
                                                <Border Background="#E53935" CornerRadius="3" Padding="6,6,12,6" Margin="0,0,4,0">
                                                    <TextBlock Text="大隊B" FontSize="11" Foreground="White"/>
                                                </Border>
                                                <Border Background="#E53935" CornerRadius="3" Padding="6,6,12,6">
                                                    <TextBlock Text="大隊C" FontSize="11" Foreground="White"/>
                                                </Border>
                                            </StackPanel>
                                        </StackPanel>
                                    </Border>

                                    <!-- 押し合い中 -->
                                    <Border BorderBrush="#333" BorderThickness="0,3,0,3" Padding="8" Margin="0,12,0,12">
                                        <TextBlock Text="⚔ 押し合い中 ⚔" FontSize="14" FontWeight="Bold" HorizontalAlignment="Center"/>
                                    </Border>

                                    <!-- 自軍 -->
                                    <Border Background="#E3F2FD" CornerRadius="4" Padding="12">
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,6">
                                                <Border Background="#1976D2" CornerRadius="3" Padding="6,6,12,6" Margin="0,0,4,0">
                                                    <TextBlock Text="中隊A" FontSize="11" Foreground="White"/>
                                                </Border>
                                                <Border Background="#1976D2" CornerRadius="3" Padding="6,6,12,6" Margin="0,0,4,0">
                                                    <TextBlock Text="中隊B" FontSize="11" Foreground="White"/>
                                                </Border>
                                                <Border Background="#1976D2" CornerRadius="3" Padding="6,6,12,6">
                                                    <TextBlock Text="中隊C" FontSize="11" Foreground="White"/>
                                                </Border>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,8,0,6">
                                                <Border Background="#546E7A" CornerRadius="3" Padding="6,6,12,6" Margin="0,0,4,0">
                                                    <TextBlock Text="中隊D" FontSize="11" Foreground="White"/>
                                                </Border>
                                                <Border Background="#546E7A" CornerRadius="3" Padding="6,6,12,6">
                                                    <TextBlock Text="中隊E" FontSize="11" Foreground="White"/>
                                                </Border>
                                            </StackPanel>
                                            <TextBlock Text="【自軍】" FontSize="11" HorizontalAlignment="Center" Margin="0,6,0,0"/>
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Border>

                    <!-- 押し合い状況 -->
                    <Border Grid.Column="1" Background="{StaticResource BrushBgCard}" BorderBrush="{StaticResource BrushBorder}" BorderThickness="2" CornerRadius="6" Padding="15" Margin="6,0,0,0">
                        <StackPanel>
                            <TextBlock Text="押し合い状況 - 第12回" FontSize="14" FontWeight="Bold" Foreground="{StaticResource BrushTextMain}" Margin="0,0,0,10"/>
                            <Grid Margin="0,0,0,10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" FontSize="11">
                                    <Run Text="自軍戦力: "/>
                                    <Run Text="1,250" FontWeight="Bold"/>
                                </TextBlock>
                                <TextBlock Grid.Column="1" FontSize="11">
                                    <Run Text="敵軍戦力: "/>
                                    <Run Text="1,180" FontWeight="Bold"/>
                                </TextBlock>
                            </Grid>
                            <Border Background="#e0e0e0" Height="24" CornerRadius="3" Margin="0,0,0,4">
                                <Border Background="#1976D2" Width="200" HorizontalAlignment="Left" CornerRadius="3">
                                    <TextBlock Text="自軍" FontSize="11" Foreground="White" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                            </Border>
                            <Border Background="#e0e0e0" Height="24" CornerRadius="3" Margin="0,0,0,10">
                                <Border Background="#E53935" Width="190" HorizontalAlignment="Left" CornerRadius="3">
                                    <TextBlock Text="敵軍" FontSize="11" Foreground="White" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                            </Border>
                            <Border Background="#d4edda" BorderBrush="#c3e6cb" BorderThickness="1" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                                <TextBlock FontSize="12" Foreground="#155724">
                                    <Run Text="判定: " FontWeight="Bold"/>
                                    <Run Text="【自軍勝ち】 戦力差: +70" FontWeight="Bold"/>
                                </TextBlock>
                            </Border>
                            <Border Background="#F5F5F5" CornerRadius="4" Padding="10">
                                <StackPanel>
                                    <TextBlock Text="自軍中隊A: 士気 80→82 (+2) / 疲労 25→28 (+3)" FontSize="11" Margin="0,0,0,4"/>
                                    <TextBlock Text="敵軍大隊A: 士気 65→60 (−5) / 疲労 40→45 (+5)" FontSize="11"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Border>
                </Grid>

                <!-- ローテーション -->
                <Border Background="{StaticResource BrushBgCard}" BorderBrush="{StaticResource BrushBorder}" BorderThickness="2" CornerRadius="6" Padding="15" Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="中隊ローテーション" FontSize="14" FontWeight="Bold" Foreground="{StaticResource BrushTextMain}" Margin="0,0,0,10"/>
                        <Border Background="#fff3cd" BorderBrush="#ffc107" BorderThickness="1" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="⚠" FontSize="16" Margin="0,0,8,0"/>
                                <TextBlock FontSize="12" Foreground="#856404">
                                    <Run Text="中隊Bの疲労が80に達しました" FontWeight="Bold"/>
                                    <Run Text=" → 中隊Dと交代"/>
                                </TextBlock>
                            </StackPanel>
                        </Border>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" FontSize="11">
                                <Run Text="[前線] " FontWeight="Bold"/>
                                <Run Text="中隊A 中隊D 中隊C"/>
                            </TextBlock>
                            <TextBlock Grid.Column="1" FontSize="11">
                                <Run Text="[後衛] " FontWeight="Bold"/>
                                <Run Text="中隊E 中隊B（休息中）"/>
                            </TextBlock>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- 結果ログ -->
                <Border Background="{StaticResource BrushBgCard}" BorderBrush="{StaticResource BrushBorder}" BorderThickness="2" CornerRadius="6" Padding="15">
                    <StackPanel>
                        <TextBlock Text="結果ログ" FontSize="14" FontWeight="Bold" Foreground="{StaticResource BrushTextMain}" Margin="0,0,0,10"/>
                        <Border Background="#F5F5F5" CornerRadius="4" Padding="10" MaxHeight="150">
                            <ScrollViewer VerticalScrollBarVisibility="Auto">
                                <StackPanel TextElement.FontFamily="Consolas" TextElement.FontSize="11">
                                    <TextBlock Foreground="#2E7D32" Margin="0,0,0,2">12:34 自軍中隊A vs 敵軍大隊A → 自軍勝ち</TextBlock>
                                    <TextBlock Margin="0,0,0,2">12:35 敵軍士気−5、疲労+5</TextBlock>
                                    <TextBlock Foreground="#FF9800" Margin="0,0,0,2">12:36 中隊Bの疲労が80に達し、ローテ実施</TextBlock>
                                    <TextBlock Foreground="#C62828" Margin="0,0,0,2">12:37 敵軍大隊Cが崩壊！追撃判定開始</TextBlock>
                                    <TextBlock Margin="0,0,0,2">12:38 追撃強度P2で追撃実施</TextBlock>
                                    <TextBlock>12:39 敵軍損耗: 死亡12 廃兵8 負傷25 逃散5</TextBlock>
                                </StackPanel>
                            </ScrollViewer>
                        </Border>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
