<UserControl x:Class="SengokuSLG.Views.MeritReportView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="720" d:DesignWidth="1080">
    <Grid Background="{StaticResource BrushBgBase}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="{StaticResource BrushBgHeader}" BorderBrush="{StaticResource BrushBorder}" BorderThickness="0,0,0,2" Padding="20,15">
            <Grid>
                <TextBlock Text="ðŸ† å®¶è‡£æˆ¦åŠŸãƒ¬ãƒãƒ¼ãƒˆ" FontSize="24" FontWeight="Bold" Foreground="{StaticResource BrushTextMain}" VerticalAlignment="Center"/>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="æˆ»ã‚‹" Command="{Binding BackCommand}" Style="{StaticResource ButtonSecondary}" Width="100" Margin="0,0,10,0"/>
                    <Button Content="CSV" Style="{StaticResource ButtonSecondary}" Width="100"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="20">
            <StackPanel>
                <!-- æˆ¦åŠŸã‚µãƒžãƒªãƒ¼ -->
                <Border Background="{StaticResource BrushBgCard}" BorderBrush="{StaticResource BrushBorder}" BorderThickness="2" CornerRadius="6" Padding="15" Margin="0,0,0,12">
                    <Grid>
                        <StackPanel>
                            <TextBlock FontSize="14" FontWeight="Bold" Margin="0,0,0,5">æˆ¦åŠŸã‚µãƒžãƒªãƒ¼:</TextBlock>
                            <TextBlock FontSize="11" Foreground="#666">
                                <Run Text="å£«æ°—+450 / å´©å£Š+320 / è¿½æ’ƒ+280 / åŠ¹çŽ‡+200 = 1,250ç‚¹ Ã— 1.3ï¼ˆå¤§å‹ï¼‰= 1,625ç‚¹ âˆ’ 35ï¼ˆå€Ÿå…µãƒšãƒŠï¼‰= 1,590ç‚¹"/>
                            </TextBlock>
                        </StackPanel>
                        <Border Background="#d4edda" CornerRadius="6" Padding="8,20" HorizontalAlignment="Right">
                            <TextBlock Text="ç¢ºå®š: 1,590ç‚¹" FontSize="20" FontWeight="Bold" Foreground="#155724"/>
                        </Border>
                    </Grid>
                </Border>

                <!-- å®¶è‡£åˆ¥æˆ¦åŠŸä¸€è¦§ -->
                <Border Background="{StaticResource BrushBgCard}" BorderBrush="{StaticResource BrushBorder}" BorderThickness="2" CornerRadius="6" Padding="15" Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="å®¶è‡£åˆ¥æˆ¦åŠŸä¸€è¦§" FontSize="14" FontWeight="Bold" Foreground="{StaticResource BrushTextMain}" Margin="0,0,0,10"/>
                        <DataGrid ItemsSource="{Binding Merits}" AutoGenerateColumns="False" 
                                  Background="White" BorderBrush="{StaticResource BrushBorder}" BorderThickness="1"
                                  HeadersVisibility="Column" GridLinesVisibility="Horizontal" 
                                  RowBackground="White" AlternatingRowBackground="#f9f9f9"
                                  CanUserAddRows="False" CanUserDeleteRows="False" IsReadOnly="True">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="åå‰" Binding="{Binding Name}" Width="120"/>
                                <DataGridTextColumn Header="å½¹è·" Binding="{Binding Position}" Width="100"/>
                                <DataGridTextColumn Header="å£«æ°—ãƒ€ãƒ¡ãƒ¼ã‚¸" Binding="{Binding MoraleDamage}" Width="100"/>
                                <DataGridTextColumn Header="å´©å£Š" Binding="{Binding Collapse}" Width="80"/>
                                <DataGridTextColumn Header="è¿½æ’ƒ" Binding="{Binding Pursuit}" Width="80"/>
                                <DataGridTextColumn Header="åŠ¹çŽ‡" Binding="{Binding Efficiency}" Width="80"/>
                                <DataGridTextColumn Header="è£œæ­£" Binding="{Binding Modifier}" Width="80"/>
                                <DataGridTemplateColumn Header="åˆè¨ˆ" Width="*">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Total}" FontSize="15" FontWeight="Bold" Foreground="#c73940"/>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                        <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                            <Button Content="è©³ç´°" Style="{StaticResource ButtonSecondary}" Margin="0,0,10,0"/>
                            <Button Content="ã‚½ãƒ¼ãƒˆ" Style="{StaticResource ButtonSecondary}" Margin="0,0,10,0"/>
                            <Button Content="ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼" Style="{StaticResource ButtonSecondary}"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- 4è»¸æˆ¦åŠŸã®è©³ç´° -->
                <Border Background="{StaticResource BrushBgCard}" BorderBrush="{StaticResource BrushBorder}" BorderThickness="2" CornerRadius="6" Padding="15" Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="4è»¸æˆ¦åŠŸã®è©³ç´°" FontSize="14" FontWeight="Bold" Foreground="{StaticResource BrushTextMain}" Margin="0,0,0,10"/>
                        <DataGrid AutoGenerateColumns="False" 
                                  Background="White" BorderBrush="{StaticResource BrushBorder}" BorderThickness="1"
                                  HeadersVisibility="Column" GridLinesVisibility="Horizontal" 
                                  RowBackground="White" AlternatingRowBackground="#f9f9f9"
                                  CanUserAddRows="False" CanUserDeleteRows="False" IsReadOnly="True">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="è»¸" Width="150">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="FontWeight" Value="Bold"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="å°éšŠ" Width="*"/>
                                <DataGridTextColumn Header="ä¸­éšŠ" Width="*"/>
                                <DataGridTextColumn Header="å¤§éšŠ" Width="*"/>
                            </DataGrid.Columns>
                            <DataGrid.Items>
                                <x:Array Type="{x:Type sys:Object}" xmlns:sys="clr-namespace:System;assembly=mscorlib">
                                    <!-- Static data would go here in actual implementation -->
                                </x:Array>
                            </DataGrid.Items>
                        </DataGrid>
                    </StackPanel>
                </Border>

                <!-- å€‹äººæˆ¦åŠŸ â†’ ä¸»äººå…¬é›†ç´„ -->
                <Border Background="{StaticResource BrushBgCard}" BorderBrush="{StaticResource BrushBorder}" BorderThickness="2" CornerRadius="6" Padding="15">
                    <StackPanel>
                        <Grid Margin="0,0,0,10">
                            <StackPanel>
                                <TextBlock FontSize="14" FontWeight="Bold" Margin="0,0,0,5">å€‹äººæˆ¦åŠŸ â†’ ä¸»äººå…¬é›†ç´„:</TextBlock>
                                <TextBlock FontSize="11" Foreground="#666">
                                    <Run Text="å±±ç”°481 + ä½è—¤241 + éˆ´æœ¨221 + ç”°ä¸­260 + ä¼Šè—¤120 = 1,323ç‚¹ â†’ ä¸»äººå…¬ã¸é›†ç´„"/>
                                </TextBlock>
                            </StackPanel>
                            <Border HorizontalAlignment="Right">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#c73940" Offset="0"/>
                                        <GradientStop Color="#A02F17" Offset="1"/>
                                    </LinearGradientBrush>
                                </Border.Background>
                                <Border CornerRadius="6" Padding="8,20">
                                    <TextBlock Text="ä¸»äººå…¬: 1,590ç‚¹" FontSize="20" FontWeight="Bold" Foreground="White"/>
                                </Border>
                            </Border>
                        </Grid>
                        <StackPanel Orientation="Horizontal">
                            <Button Content="æˆ¦åŠŸã‚’ç¢ºå®š" Style="{StaticResource ButtonPrimary}" Margin="0,0,10,0"/>
                            <Button Content="ä¸»äººå…¬ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¸" Style="{StaticResource ButtonSecondary}"/>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
