# v0.9 UI モック - 一貫性チェックとまとめ

**制作日**: 2025年12月3日  
**バージョン**: v0.9  
**制作者**: Windsurf (UI専門担当)

---

## ✅ 制作完了状況

### 全12画面のUIモック制作完了

| No. | 画面名 | ファイル名 | ステータス |
|-----|--------|-----------|-----------|
| 01 | 軍事編成画面 | `01_軍事編成画面.md` | ✅ 完成 |
| 02 | 隊状態パネル | `02_隊状態パネル.md` | ✅ 完成 |
| 03 | 戦場UI（簡易版） | `03_戦場UI.md` | ✅ 完成 |
| 04 | 兵士損耗レポート | `04_兵士損耗レポート.md` | ✅ 完成 |
| 05 | 家臣戦功レポート | `05_家臣戦功レポート.md` | ✅ 完成 |
| 06 | 役職一覧画面 | `06_役職一覧画面.md` | ✅ 完成 |
| 07 | 家臣詳細画面 | `07_家臣詳細画面.md` | ✅ 完成 |
| 08 | 大隊管理画面 | `08_大隊管理画面.md` | ✅ 完成 |
| 09 | 中隊管理画面 | `09_中隊管理画面.md` | ✅ 完成 |
| 10 | 小隊詳細画面 | `10_小隊詳細画面.md` | ✅ 完成 |
| 11 | 追撃判定画面 | `11_追撃判定画面.md` | ✅ 完成 |
| 12 | 戦闘結果サマリー | `12_戦闘結果サマリー.md` | ✅ 完成 |

### 補助ドキュメント

| ドキュメント | ファイル名 | ステータス |
|-------------|-----------|-----------|
| インデックス | `v0.9_UI_INDEX.md` | ✅ 完成 |
| 画面遷移図 | `画面遷移図.md` | ✅ 完成 |
| 一貫性チェック | `UI一貫性チェックとまとめ.md` | ✅ 完成 |

---

## 🎨 UI一貫性チェック

### 1. カラーパレットの統一

#### ✅ 全画面で統一されたカラーパレット

| 用途 | 色 | カラーコード | 使用箇所 |
|------|---|-------------|---------|
| 背景 | 和紙風 | `#F5F1E8` | 全画面の背景 |
| 主要テキスト | 墨色 | `#2C2C2C` | 見出し・本文 |
| 強調 | 朱色 | `#C8381D` | 重要項目・警告 |
| アクセント | 藍色 | `#1E3A5F` | ボタン・リンク |
| 警告 | 金茶 | `#D4A017` | 注意喚起 |

#### ✅ 状態別カラー統一

| 状態 | 色 | カラーコード | 使用画面 |
|------|---|-------------|---------|
| 訓練度（高） | 濃緑 | `#2E7D32` | 02, 01, 07 |
| 訓練度（中） | 黄緑 | `#7CB342` | 02, 01, 07 |
| 訓練度（低） | 黄色 | `#FBC02D` | 02, 01, 07 |
| 士気（良好） | 青 | `#1976D2` | 02, 01, 03 |
| 士気（軽デバフ） | 水色 | `#4FC3F7` | 02, 01, 03 |
| 士気（重デバフ） | 灰色 | `#9E9E9E` | 02, 01, 03 |
| 疲労（低） | 緑 | `#66BB6A` | 02, 01, 03 |
| 疲労（中） | 橙 | `#FF9800` | 02, 01, 03 |
| 疲労（高） | 赤 | `#E53935` | 02, 01, 03 |

---

### 2. アイコンの統一

#### ✅ 役職別アイコン

| 役職 | アイコン | 使用画面 |
|------|---------|---------|
| 足軽大将 | 🏯 | 01, 06, 07, 08 |
| 組頭 | ⚔ | 01, 06, 07, 09 |
| 小頭 | 🗡 | 01, 06, 07, 10 |
| 馬上衆 | 🐴 | 01, 06, 07, 10 |
| 徒士 | ⚔ | 01, 06, 07, 10 |
| 従僕 | 👤 | 01, 07, 10 |

#### ✅ 状態別アイコン

| 状態 | アイコン | 使用画面 |
|------|---------|---------|
| 良好 | ✓ | 02, 03, 08, 09 |
| 警告 | ⚠ | 02, 03, 04, 05 |
| 危険 | ⛔ | 02, 03, 04, 05 |
| 祝福 | 🎉 | 05, 12 |
| 追撃（弱） | 🏹 | 03, 11 |
| 追撃（中） | 🗡 | 03, 11 |
| 追撃（強） | ⚔ | 03, 11 |

---

### 3. レイアウトパターンの統一

#### ✅ ヘッダー部の統一

全画面で以下の構造を統一：
```
┌─────────────────────────────────────────────────────────┐
│ 【画面タイトル】                      [戻る] [アクション]  │
├─────────────────────────────────────────────────────────┤
```

#### ✅ 状態バーの統一

全画面で以下の形式を統一：
```
訓練度: ████████░░ 75 / 100
```
- バーの長さ: 10ブロック（█ = 10%）
- 数値表示: 現在値 / 最大値
- 色分け: 状態に応じて変化

#### ✅ タブ切替の統一

全画面で以下の形式を統一：
```
┌─ タブ名 ───────────────────────────────┐
│ [タブ1] [タブ2] [タブ3]                 │
└─────────────────────────────────────┘
```

---

### 4. ボタン・アクションの統一

#### ✅ 共通ボタン

| ボタン名 | 機能 | 使用画面 |
|---------|------|---------|
| [戻る] | 前画面に戻る | 全画面 |
| [詳細] | 詳細情報を表示 | 01, 06, 07, 08, 09, 10 |
| [編集] | 編集画面へ遷移 | 07, 10 |
| [保存] | 変更を保存 | 01 |
| [更新] | 最新情報を取得 | 02 |

#### ✅ アクションボタンの配置

- **右上**: [戻る] [主要アクション]
- **下部**: [詳細] [サブアクション]

---

### 5. 数値表示の統一

#### ✅ 数値フォーマット

| 種類 | フォーマット | 例 | 使用画面 |
|------|-------------|---|---------|
| 人数 | `XXX人` | `300人` | 全画面 |
| 割合 | `XX.X%` | `10.0%` | 04, 05, 12 |
| 戦功 | `XXX点` | `1,590点` | 05, 12 |
| 補正 | `×X.X` | `×1.3` | 02, 05, 10, 12 |
| 能力値 | `XX / XX` | `75 / 100` | 02, 07, 10 |

---

### 6. 警告・アラートの統一

#### ✅ 警告レベル

| レベル | アイコン | 背景色 | 使用画面 |
|--------|---------|--------|---------|
| 情報 | ✓ | 青 `#E3F2FD` | 02, 03, 08, 09 |
| 注意 | ⚠ | 黄 `#FFF9C4` | 02, 03, 04, 05 |
| 警告 | ⚠ | 橙 `#FFE0B2` | 02, 03, 04, 05 |
| 危険 | ⛔ | 赤 `#FFCDD2` | 02, 03, 04, 05 |
| 祝福 | 🎉 | 緑 `#C8E6C9` | 05, 12 |

---

## 📊 v0.9設計書との対応チェック

### ✅ 第2章: 隊階層構造（25・100・300）

| 設計書の要素 | 対応UI画面 | 実装状況 |
|-------------|-----------|---------|
| 小隊（25人） | 01, 10 | ✅ 完全対応 |
| 中隊（100人） | 01, 09 | ✅ 完全対応 |
| 大隊（300人） | 01, 08 | ✅ 完全対応 |
| 徒士・馬上衆・従僕 | 01, 06, 07, 10 | ✅ 完全対応 |

### ✅ 第3章: 状態モデル

| 設計書の要素 | 対応UI画面 | 実装状況 |
|-------------|-----------|---------|
| 訓練度 | 02, 07 | ✅ 完全対応（補正式表示） |
| 実戦度 | 02, 07 | ✅ 完全対応（補正式表示） |
| 疲労 | 02, 03, 08, 09 | ✅ 完全対応（段階表示） |
| 士気 | 02, 03, 08, 09 | ✅ 完全対応（崩壊トリガー表示） |

### ✅ 第4章: 押し合い（戦闘サイクル）

| 設計書の要素 | 対応UI画面 | 実装状況 |
|-------------|-----------|---------|
| 有効戦闘力算出 | 03, 10 | ✅ 完全対応（計算式表示） |
| 勝敗判定 | 03, 12 | ✅ 完全対応 |
| 士気・疲労更新 | 03 | ✅ 完全対応（変動表示） |
| 損耗処理 | 03, 04 | ✅ 完全対応 |
| 崩壊判定 | 03 | ✅ 完全対応（アラート表示） |

### ✅ 第6章: 中隊AI

| 設計書の要素 | 対応UI画面 | 実装状況 |
|-------------|-----------|---------|
| ローテ基準（性格差） | 02, 09 | ✅ 完全対応（慎重70/標準80/猪突90） |
| 自律後退 | 03, 09 | ✅ 完全対応 |
| 前後交代 | 03, 09 | ✅ 完全対応（アニメーション表示） |

### ✅ 第7章: 大隊AI

| 設計書の要素 | 対応UI画面 | 実装状況 |
|-------------|-----------|---------|
| 戦線管理 | 03, 08 | ✅ 完全対応 |
| ローテ判定 | 03, 08 | ✅ 完全対応（条件チェック表示） |
| 段階的後退 | 03, 08 | ✅ 完全対応 |
| 総退却 | 03, 08 | ✅ 完全対応 |
| 追撃判定 | 03, 11 | ✅ 完全対応（P1〜P3表示） |

### ✅ 第8章: 損耗処理

| 設計書の要素 | 対応UI画面 | 実装状況 |
|-------------|-----------|---------|
| 死・廃兵・負傷・逃散 | 04 | ✅ 完全対応（4種類分類） |
| 最大損耗30% | 04 | ✅ 完全対応（警告表示） |
| 個人ユニット死亡影響 | 04, 10 | ✅ 完全対応 |

### ✅ 第9章: 人口反映ロジック

| 設計書の要素 | 対応UI画面 | 実装状況 |
|-------------|-----------|---------|
| 出身知行地ID | 04 | ✅ 完全対応 |
| 人口減少（死・廃兵・逃散） | 04 | ✅ 完全対応（自動反映表示） |
| 負傷は人口影響なし | 04 | ✅ 完全対応（明記） |

### ✅ 第10章: 戦功モデル

| 設計書の要素 | 対応UI画面 | 実装状況 |
|-------------|-----------|---------|
| 軸1: 士気ダメージ | 05 | ✅ 完全対応（計算式表示） |
| 軸2: 崩壊ボーナス | 05 | ✅ 完全対応 |
| 軸3: 追撃ダメージ | 05 | ✅ 完全対応 |
| 軸4: 損耗効率 | 05 | ✅ 完全対応 |
| 戦局補正 | 05, 12 | ✅ 完全対応（倍率表示） |
| 借り兵ペナルティ | 05 | ✅ 完全対応（アイコン表示） |
| 個人→主人公集約 | 05 | ✅ 完全対応（集約表示） |

---

## 🎯 v0.9で追加されたUI要素の実装確認

### ✅ 1. 軍事編成画面（25/100/300の階層可視化）

- [x] 大隊ビュー（中隊3つ）
- [x] 中隊ビュー（小隊4つ）
- [x] 小隊ビュー（個人ユニット）
- [x] 自動編成 ON/OFF
- [x] 手動入替 UI
- [x] 徒士/馬上衆/従僕の構成表示

### ✅ 2. 隊状態パネル（訓練度/実戦度/疲労/士気）

- [x] 色による段階表示
- [x] 大隊・中隊・小隊の一覧タブ
- [x] 各状態の推移グラフ（簡易UI）
- [x] 補正計算式の表示

### ✅ 3. 戦場UI（v0.9簡易版）

- [x] 押し合い表示
- [x] 前線/後衛の配置
- [x] 中隊ローテーション可視化
- [x] 崩壊アラート
- [x] 追撃判定の演出
- [x] 結果ログパネル

### ✅ 4. 兵士損耗レポート

- [x] 死亡/廃兵/負傷/逃散の内訳
- [x] 各兵の「出身知行地ID」表示
- [x] 自家兵 vs 借り兵の区別
- [x] 自動で人口に反映することをUIで示す

### ✅ 5. 家臣戦功レポート

- [x] 4軸戦功（士気/崩壊/追撃/効率）
- [x] 借り兵損耗ペナルティ アイコン
- [x] 個人戦功 → 主人公戦功への集約表示

### ✅ 6. 役職一覧（更新版）

- [x] 馬上衆の新アイコン（🐴）
- [x] 騎乗マーク（馬所有フラグと別）
- [x] 指揮上限（25/100/300）表示
- [x] 元服・継承の初期配置がわかる UI

### ✅ 7. 家臣詳細画面（更新版）

- [x] 個人戦闘力・統率・政務・知略の4能力
- [x] 実戦度
- [x] 訓練度（隊の平均も表示）
- [x] 馬上衆の「馬保有」表示
- [x] 戦場位置：前衛/中衛/後衛
- [x] 徒士・馬上衆の一家構造（家内従僕数）

---

## 🎨 UIスタイルの統一確認

### ✅ 戦国和風デザイン

- [x] 和紙風の背景（全画面）
- [x] 墨色・黒・朱の配色（全画面）
- [x] 役職階層は「縦スクロール」（06_役職一覧画面）
- [x] 部隊階層は「横タブ切替」（01_軍事編成画面、02_隊状態パネル）
- [x] 戦場UIは「簡易ミニマップ風」（03_戦場UI）
- [x] 数値はコンパクトに（全画面）

---

## 📝 制作ルールの遵守確認

### ✅ 実施したこと

- [x] 画面単位で分割して提示
- [x] 各画面に要素の位置・ボタン名・数値の配置・リスト構造を記載
- [x] 表示の優先度を明確化
- [x] 色・フォントは「戦国和風」の範囲でデザイン
- [x] HTML/CSS風の構造説明で記述
- [x] v0.9設計書の全画面・全UI要素を漏れなく可視化

### ✅ 禁止事項を遵守

- [x] ロジック（計算処理）は書いていない
- [x] DB・内部フローは書いていない
- [x] Antigravity仕様書を参照していない
- [x] 戦闘AIの挙動は書いていない
- [x] データ構造は書いていない

---

## 🔍 品質チェック

### ✅ 完成度チェック

| 項目 | 状況 | 備考 |
|------|------|------|
| 全画面のモック作成 | ✅ 完了 | 12画面すべて完成 |
| 画面遷移図の作成 | ✅ 完了 | 全遷移パターンを網羅 |
| UI一貫性の確保 | ✅ 完了 | カラー・アイコン・レイアウト統一 |
| v0.9設計書との対応 | ✅ 完了 | 全章の要素を100%カバー |
| 戦国和風デザイン | ✅ 完了 | 全画面で統一 |

### ✅ 可読性チェック

| 項目 | 状況 | 備考 |
|------|------|------|
| ASCII図の明瞭性 | ✅ 良好 | 全画面で視覚的に理解しやすい |
| 説明文の簡潔性 | ✅ 良好 | 冗長な説明を排除 |
| 構造の一貫性 | ✅ 良好 | 全画面で同じ構造を採用 |

---

## 📦 成果物一覧

### UIモックファイル（12画面）

1. `01_軍事編成画面.md` - 25/100/300階層の可視化
2. `02_隊状態パネル.md` - 訓練度/実戦度/疲労/士気の表示
3. `03_戦場UI.md` - 押し合い・ローテ・崩壊・追撃の演出
4. `04_兵士損耗レポート.md` - 死亡/廃兵/負傷/逃散の内訳
5. `05_家臣戦功レポート.md` - 4軸戦功と集約表示
6. `06_役職一覧画面.md` - 役職階層の縦スクロール表示
7. `07_家臣詳細画面.md` - 4能力・実戦度・訓練度・一家構造
8. `08_大隊管理画面.md` - 中隊配置とローテ/退却判定
9. `09_中隊管理画面.md` - 小隊管理と性格別ローテ基準
10. `10_小隊詳細画面.md` - 個人ユニットと有効戦闘力内訳
11. `11_追撃判定画面.md` - 追撃条件・強度・損耗予測
12. `12_戦闘結果サマリー.md` - 勝敗・損耗・戦功の集計

### 補助ドキュメント（3ファイル）

1. `v0.9_UI_INDEX.md` - 画面一覧とインデックス
2. `画面遷移図.md` - 全画面の遷移関係
3. `UI一貫性チェックとまとめ.md` - 本ファイル

---

## 🎯 Windsurfのゴール達成確認

### ✅ v0.9_design_document.md に書かれた仕様を100％ UI として可視化

- [x] 第2章: 隊階層構造 → 01, 06, 07, 08, 09, 10
- [x] 第3章: 状態モデル → 02, 07, 10
- [x] 第4章: 押し合い → 03, 10
- [x] 第5章: 小隊AI → 10
- [x] 第6章: 中隊AI → 02, 03, 09
- [x] 第7章: 大隊AI → 03, 08, 11
- [x] 第8章: 損耗処理 → 03, 04
- [x] 第9章: 人口反映ロジック → 04
- [x] 第10章: 戦功モデル → 05, 12

### ✅ ロジックは一切作らず、UIの「見た目・構造・遷移」のみ提示

- [x] 計算処理は記述していない
- [x] DB設計は記述していない
- [x] 内部フローは記述していない
- [x] UIの見た目・配置・遷移のみを記述

---

## 🎉 制作完了

**v0.9 UI モック仕様書の制作を完了しました。**

### 制作内容
- **全12画面**のUIモックを作成
- **画面遷移図**を作成
- **UI一貫性**を確保
- **v0.9設計書**の全要素を100%カバー

### 次のステップ
1. 各UIモックを確認
2. 必要に応じて微調整
3. 実装チームへの引き継ぎ

---

**制作日**: 2025年12月3日  
**制作者**: Windsurf (UI専門担当)  
**参照設計書**: `v0.9_design_document.md`  
**制作ファイル数**: 15ファイル（UIモック12 + 補助3）
